<!doctype html> <html lang="es"> <head> <meta charset="utf-8"/> <meta name="viewport" content="width=device-width,initial-scale=1"/> <title>Simulador Saludo</title> </head> <body> <h1>Simulador Saludo</h1> <form id="form"> <label>Nombre:</label> <input id="name" required/> <button type="submit">Enviar</button> </form> <p id="result"></p> <script> const form = document.getElementById("form"); const result = document.getElementById("result"); form.addEventListener("submit", async (e) => { e.preventDefault(); const name = document.getElementById("name").value.trim(); if (!name) { result.textContent = "Introduce tu nombre."; return; } try { const res = await fetch("/api/greet", { method: "POST", headers: {"Content-Type": "application/json"}, body: JSON.stringify({ name }) }); const data = await res.json(); if (!res.ok) { result.textContent = "Error: " + (data.error || res.statusText); return; } result.textContent = data.greeting; } catch (err) { result.textContent = "Fallo: " + err.message; } }); </script> </body> </html>
